"use strict";!function(r){r(document).ready(function(){r("#doaction,#doaction2").click(function(e){e.preventDefault();var n=r(this).prev("select").val(),a=[];if(r(".billing-user:checked").each(function(e,n){a.push(r(n).val())}),!a.length)return!1;switch(n){case"update":r.post(ShareeBilling.endpoint,{action:"user_billing",_wpnonce:ShareeBilling.nonce,year:r('select[name="year"]').val(),month:r('select[name="monthnum"]').val(),user_ids:a}).done(function(e){alert(e.message),e.success&&window.location.reload()}).fail(function(e){var n=ShareeBilling.defaultError;e.responseJSON&&e.responseJSON.data&&(n=e.responseJSON.data.message),window.console&&console.log(e),alert(n)});break;case"download":var t=new Date,i=window.prompt(ShareeBilling.transferDate,[t.getMonth()+1,t.getDate()].map(function(e){return("0"+e).slice(-2)}).join(""));if(!i)return;var o=r('form[target="sharee-csv-downloader"]');o.find('input[name="year"]').val(r('select[name="year"]').val()),o.find('input[name="month"]').val(r('select[name="monthnum"]').val()),o.find('input[name="date"]').val(i),o.find("p").empty(),a.forEach(function(e,n){o.find("p").append('<input type="checkbox" name="user_ids[]" value="'+e+'" checked />')}),o.submit();break;default:return}})})}(jQuery);
//# sourceMappingURL=map/billing-list-helper.js.map
