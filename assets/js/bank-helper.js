jQuery(document).ready(function(e){"use strict";const a=function(){const a=e("#_bank_group_code").val();e("#_bank_branch").prop("disabled",!/\d+/.test(a))};e("#_bank_group").select2({ajax:{delay:500,url:"https://bankcode-api.appspot.com/api/bank/JP",dataType:"jsonp",data(e){const a={name:e.term};return BankHelper.apiKey&&(a.apiKey=BankHelper.apiKey),a},processResults:e=>e.data.length?{results:e.data.map(function(e){return{id:e.name,text:e.name,code:e.code}})}:{results:[]}}}).on("select2:select",function(a){e("#_bank_group_code").val(a.params.data.code).trigger("change")}),e("#_bank_branch").select2({ajax:{delay:500,url:"https://bankcode-api.appspot.com/api/bank/JP/0000",dataType:"jsonp",beforeSend(){const a=this.url.split("?");a[0]=a[0].replace(/\/\d+$/,"/"+e("#_bank_group_code").val()),this.url=a.join("?")},data(e){const a={name:e.term};return BankHelper.apiKey&&(a.apiKey=BankHelper.apiKey),a},processResults:e=>e.data.length?{results:e.data.map(function(e){return{id:e.name,text:e.name,code:e.code}})}:{results:[]}}}).on("select2:select",function(a){e("#_bank_branch_code").val(a.params.data.code)}),a(),e("#_bank_group_code").on("change",a),BankHelper.yolpKey||e("#sharee-zip-search").remove(),e("#sharee-zip-search").on("click",function(a){a.preventDefault(),e.ajax({type:"GET",url:"https://map.yahooapis.jp/search/zip/V1/zipCodeSearch",dataType:"jsonp",data:{appid:BankHelper.yolpKey,query:e("#_billing_zip").val(),output:"json"}}).done(function(a){a.Feature&&a.Feature.length?e("#_billing_address").val(a.Feature[0].Property.Address):alert(BankHelper.yolpError)}).fail(function(){alert(BankHelper.yolpError)})})});